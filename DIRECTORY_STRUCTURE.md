# ディレクトリ構造の改善提案

## 現状の問題点

1. コンポーネントの重複
   - 同じ機能のコンポーネントが異なる場所に存在
   - 管理が複雑化し、メンテナンスが困難

2. UIの一貫性の欠如
   - 共通のUIコンポーネントが複数の場所に分散
   - デザインシステムの統一が困難

3. ルーティングの複雑さ
   - 同様のページが異なるパスに存在
   - ナビゲーションの管理が困難

## 改善案

```
app/
├── (admin)/                # 管理者用ルート
│   ├── layout.tsx
│   ├── page.tsx
│   └── quests/
│       ├── page.tsx
│       ├── new/
│       └── [id]/
├── (user)/                 # ユーザー用ルート
│   ├── layout.tsx
│   ├── page.tsx
│   └── quests/
│       ├── page.tsx
│       └── [id]/
└── api/                    # API ルート
    ├── admin/
    └── user/

src/
├── components/
│   ├── ui/                 # 共通UIコンポーネント
│   │   ├── Button/
│   │   ├── Input/
│   │   ├── Select/
│   │   └── Badge/
│   ├── forms/             # フォームコンポーネント
│   │   └── QuestForm/
│   ├── quests/            # クエスト関連コンポーネント
│   │   ├── QuestCard/
│   │   └── QuestTable/
│   └── layout/            # レイアウトコンポーネント
│       ├── AdminLayout/
│       └── UserLayout/
├── features/              # 機能単位のロジック
│   ├── admin/
│   └── user/
├── lib/                   # ユーティリティ関数
│   ├── api/
│   ├── supabase/
│   └── validations/
├── store/                 # 状態管理
└── types/                 # 型定義
```

## 改善のポイント

1. コンポーネントの整理
   - UIコンポーネントを`src/components/ui`に集約
   - 機能別のコンポーネントを適切なディレクトリに配置

2. 機能の分離
   - 管理者機能とユーザー機能を明確に分離
   - 共通機能を適切に共有

3. ルーティングの整理
   - App Routerの機能を活用したグループ化
   - 管理者とユーザーのルートを明確に分離

## 移行手順

1. UIコンポーネントの統合
   - 重複するUIコンポーネントを`src/components/ui`に移動
   - 既存の参照を新しいパスに更新

2. 機能コンポーネントの整理
   - クエスト関連のコンポーネントを`src/components/quests`に集約
   - 管理者/ユーザー固有のコンポーネントを適切なディレクトリに移動

3. ルーティングの修正
   - App Routerのグループ化を活用してルートを整理
   - 重複するページコンポーネントを統合

## 期待される効果

1. コードの保守性向上
   - 明確な責任分担
   - 重複の削減

2. 開発効率の向上
   - コンポーネントの再利用性向上
   - 一貫したコーディング規約

3. パフォーマンスの改善
   - 適切なコード分割
   - 効率的なバンドリング